<div class="container">
  <div class="header-app">
      <h4>Walkthrough Form</h4>
  </div>
  <div class="walk-form">
    <mat-card class="form">
    <form [formGroup]="walkForm" novalidate (ngSubmit)="onSubmit()" #f="ngForm">
      <h4>Customer Information</h4>
      <div class="row">
        <div class="col-md-6">
            <mat-form-field>
                <input matInput #firstName maxlength="50" placeholder="First Name" formControlName="firstName">
                <span class="mat-form-field-label-wrapper">
                    <label class="mat-form-field-label  mat-empty mat-form-field-empty" id="mat-form-field-label-1" for="mat-input-0" aria-owns="mat-input-0">
                      <!---->
                      <!---->
                      <mat-label>First Name</mat-label>
                      <!---->
                      <!---->
                      <span aria-hidden="true" class="mat-placeholder-required mat-form-field-required-marker">&nbsp;*</span>
                    </label>
                </span>
                <!---->
                <div *ngIf="walkForm.controls['firstName'].invalid && (walkForm.controls['firstName'].dirty || walkForm.controls['firstName'].touched)" class="mat-form-field-subscript-wrapper">
                    <div class="ng-tns-c15-3 ng-trigger ng-trigger-transitionMessages ng-star-inserted" style="line-height: 4.5;">
                      <mat-error class="mat-error ng-star-inserted" *ngIf="walkForm.controls['firstName'].errors?.required">First Name is required</mat-error>
                    </div>
                </div>
                <!---->
            </mat-form-field>
        </div>
        <div class="col-md-6">
            <mat-form-field>
                <input matInput #lastName maxlength="50" placeholder="Last Name" formControlName="lastName">
                <span class="mat-form-field-label-wrapper">
                    <label class="mat-form-field-label  mat-empty mat-form-field-empty" id="mat-form-field-label-1" for="mat-input-0" aria-owns="mat-input-0">
                      <!---->
                      <!---->
                      <mat-label>Last Name</mat-label>
                      <!---->
                      <!---->
                      <span aria-hidden="true" class="mat-placeholder-required mat-form-field-required-marker">&nbsp;*</span>
                    </label>
                </span>
                <!---->
                <div *ngIf="walkForm.controls['lastName'].invalid && (walkForm.controls['lastName'].dirty || walkForm.controls['lastName'].touched)" class="mat-form-field-subscript-wrapper">
                    <div class="ng-tns-c15-3 ng-trigger ng-trigger-transitionMessages ng-star-inserted" style="line-height: 4.5;">
                      <mat-error class="mat-error ng-star-inserted" *ngIf="walkForm.controls['lastName'].errors?.required">Last Name is required</mat-error>
                    </div>
                </div>
                <!---->
            </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
            <mat-form-field>
                <textarea matInput #address maxlength="200" placeholder="Address" formControlName="address"></textarea>
                <span class="mat-form-field-label-wrapper">
                    <label class="mat-form-field-label  mat-empty mat-form-field-empty" id="mat-form-field-label-1" for="mat-input-0" aria-owns="mat-input-0">
                      <!---->
                      <!---->
                      <mat-label>Address</mat-label>
                      <!---->
                      <!---->
                      <span aria-hidden="true" class="mat-placeholder-required mat-form-field-required-marker">&nbsp;*</span>
                    </label>
                </span>
                <!---->
                <div *ngIf="walkForm.controls['address'].invalid && (walkForm.controls['address'].dirty || walkForm.controls['address'].touched)" class="mat-form-field-subscript-wrapper">
                    <div class="ng-tns-c15-3 ng-trigger ng-trigger-transitionMessages ng-star-inserted" style="line-height: 4.5;">
                      <mat-error class="mat-error ng-star-inserted" *ngIf="walkForm.controls['address'].errors?.required">Address is required</mat-error>
                    </div>
                </div>
                <!---->
              </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <mat-form-field>
              <input matInput #city maxlength="50" placeholder="City" formControlName="city">
              <span class="mat-form-field-label-wrapper">
                  <label class="mat-form-field-label  mat-empty mat-form-field-empty" id="mat-form-field-label-1" for="mat-input-0" aria-owns="mat-input-0">
                    <!---->
                    <!---->
                    <mat-label>City</mat-label>
                    <!---->
                    <!---->
                    <span aria-hidden="true" class="mat-placeholder-required mat-form-field-required-marker">&nbsp;*</span>
                  </label>
              </span>
              <!---->
              <div *ngIf="walkForm.controls['address'].invalid && (walkForm.controls['city'].dirty || walkForm.controls['city'].touched)" class="mat-form-field-subscript-wrapper">
                  <div class="ng-tns-c15-3 ng-trigger ng-trigger-transitionMessages ng-star-inserted" style="line-height: 4.5;">
                    <mat-error class="mat-error ng-star-inserted" *ngIf="walkForm.controls['city'].errors?.required">City is required</mat-error>
                  </div>
              </div>
              <!---->
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field>
              <input matInput #state maxlength="50" placeholder="State" formControlName="state">
              <span class="mat-form-field-label-wrapper">
                  <label class="mat-form-field-label  mat-empty mat-form-field-empty" id="mat-form-field-label-1" for="mat-input-0" aria-owns="mat-input-0">
                    <!---->
                    <!---->
                    <mat-label>State</mat-label>
                    <!---->
                    <!---->
                    <span aria-hidden="true" class="mat-placeholder-required mat-form-field-required-marker">&nbsp;*</span>
                  </label>
              </span>
              <!---->
              <div *ngIf="walkForm.controls['state'].invalid && (walkForm.controls['state'].dirty || walkForm.controls['state'].touched)" class="mat-form-field-subscript-wrapper">
                  <div class="ng-tns-c15-3 ng-trigger ng-trigger-transitionMessages ng-star-inserted" style="line-height: 4.5;">
                    <mat-error class="mat-error ng-star-inserted" *ngIf="walkForm.controls['state'].errors?.required">State is required</mat-error>
                  </div>
              </div>
              <!---->
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field>
              <input matInput #postalCode minlength="5" maxlength="5" placeholder="Postal Code" formControlName="postalCode">
              <mat-hint align="end">{{postalCode.value.length}} / 5</mat-hint>
              <span class="mat-form-field-label-wrapper">
                  <label class="mat-form-field-label  mat-empty mat-form-field-empty" id="mat-form-field-label-1" for="mat-input-0" aria-owns="mat-input-0">
                    <!---->
                    <!---->
                    <mat-label>Postal Code</mat-label>
                    <!---->
                    <!---->
                    <span aria-hidden="true" class="mat-placeholder-required mat-form-field-required-marker">&nbsp;*</span>
                  </label>
              </span>
              <!---->
              <div *ngIf="walkForm.controls['postalCode'].invalid && (walkForm.controls['postalCode'].dirty || walkForm.controls['postalCode'].touched)" class="mat-form-field-subscript-wrapper">
                  <div class="ng-tns-c15-3 ng-trigger ng-trigger-transitionMessages ng-star-inserted" style="line-height: 4.5;">
                    <mat-error class="mat-error ng-star-inserted" *ngIf="walkForm.controls['postalCode'].errors?.required">Postal Code is required</mat-error>
                    <mat-error class="mat-error ng-star-inserted" *ngIf="walkForm.controls['postalCode'].errors?.minlength">Postal Code must be 5 characters</mat-error>
                    <mat-error class="mat-error ng-star-inserted" *ngIf="walkForm.controls['postalCode'].errors?.pattern">You can type only numbers 0-9</mat-error>
                  </div>
              </div>
              <!---->
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <mat-form-field>
              <input matInput #permitNumber minlength="10" maxlength="10" placeholder="Permit Number" formControlName="permitNumber">
              <mat-hint align="end">{{permitNumber.value.length}} / 10</mat-hint>
              <span class="mat-form-field-label-wrapper">
                  <label class="mat-form-field-label  mat-empty mat-form-field-empty" id="mat-form-field-label-1" for="mat-input-0" aria-owns="mat-input-0">
                    <!---->
                    <!---->
                    <mat-label>Permit Number</mat-label>
                    <!---->
                    <!---->
                    <span aria-hidden="true" class="mat-placeholder-required mat-form-field-required-marker">&nbsp;*</span>
                  </label>
              </span>
              <!---->
              <div *ngIf="walkForm.controls['permitNumber'].invalid && (walkForm.controls['permitNumber'].dirty || walkForm.controls['permitNumber'].touched)" class="mat-form-field-subscript-wrapper">
                  <div class="ng-tns-c15-3 ng-trigger ng-trigger-transitionMessages ng-star-inserted" style="line-height: 4.5;">
                    <mat-error class="mat-error ng-star-inserted" *ngIf="walkForm.controls['permitNumber'].errors?.required">Permit Number is required</mat-error>
                    <mat-error class="mat-error ng-star-inserted" *ngIf="walkForm.controls['permitNumber'].errors?.minlength">Permit Number mustbe 10 characters</mat-error>
                  </div>
              </div>
              <!---->
          </mat-form-field>
        </div>
      </div>
      <mat-card class="card-task" formArrayName="taskItems">
          <mat-card-title>
            <h4>Tasks List</h4>
          </mat-card-title>
          <mat-card-content>
              <div class="task-desc" cellspacing="0" *ngFor="let taskItem of walkForm.controls.taskItems.controls; let i=index">
                <!-- row divider show for every nex row exclude if first row -->
                <mat-divider *ngIf="walkForm.controls.taskItems.controls.length > 1 && i > 0" ></mat-divider><br>
                <div [formGroupName]="i">
                    <mat-form-field class="td-op-num">
                      <input matInput #openingNumber type="number" maxlength="3" placeholder="Opening Number" formControlName="openingNumber">
                      <span class="mat-form-field-label-wrapper">
                          <label class="mat-form-field-label  mat-empty mat-form-field-empty" id="mat-form-field-label-1" for="mat-input-0" aria-owns="mat-input-0">
                            <!---->
                            <!---->
                            <mat-label>Opening Number</mat-label>
                            <!---->
                            <!---->
                            <span aria-hidden="true" class="mat-placeholder-required mat-form-field-required-marker">&nbsp;*</span>
                          </label>
                      </span>
                      <!---->
                      <div *ngIf="taskItem.controls.openingNumber.invalid && (taskItem.controls.openingNumber.dirty || taskItem.controls.openingNumber.touched)" class="mat-form-field-subscript-wrapper">
                          <div class="ng-tns-c15-3 ng-trigger ng-trigger-transitionMessages ng-star-inserted" style="line-height: 4.5;">
                            <mat-error class="mat-error ng-star-inserted" *ngIf="taskItem.controls.openingNumber.errors?.required">Opening Number is required</mat-error>
                          </div>
                      </div>
                      <!---->
                    </mat-form-field>
                    <div class="row">
                      <div class="col-md-10">
                          <mat-form-field>
                            <textarea matInput #taskDescription maxlength="200" placeholder="Task Description" formControlName="taskDescription"></textarea>
                              <span class="mat-form-field-label-wrapper">
                                  <label class="mat-form-field-label  mat-empty mat-form-field-empty" id="mat-form-field-label-1" for="mat-input-0" aria-owns="mat-input-0">
                                    <!---->
                                    <!---->
                                    <mat-label>Task Description</mat-label>
                                    <!---->
                                    <!---->
                                    <span aria-hidden="true" class="mat-placeholder-required mat-form-field-required-marker">&nbsp;*</span>
                                  </label>
                              </span>
                              <!---->
                              <div *ngIf="taskItem.controls.taskDescription.invalid && (taskItem.controls.taskDescription.dirty || taskItem.controls.taskDescription.touched)" class="mat-form-field-subscript-wrapper">
                                  <div class="ng-tns-c15-3 ng-trigger ng-trigger-transitionMessages ng-star-inserted" style="line-height: 4.5;">
                                    <mat-error class="mat-error ng-star-inserted" *ngIf="taskItem.controls.taskDescription.errors?.required">Task Description is required</mat-error>
                                  </div>
                              </div>
                              <!---->
                          </mat-form-field>
                      </div>
                      <div class="col-md-2">
                        <button type="button" class="btn-warn" mat-fab color="warn" *ngIf="walkForm.controls.taskItems.controls.length > 1" (click)="removeTask(i)">
                          <mat-icon>delete</mat-icon>
                        </button>
                      </div>
                    </div>
                </div>
            </div>
            <mat-card-actions>
            <button type="button" class="btn-accent" mat-raised-button color="accent" (click)="addTask()">
              <mat-icon>add</mat-icon>
              Add Task
            </button>
            </mat-card-actions>
          </mat-card-content>
      </mat-card>
      <div class="row">
          <div class="col-md-12">
            <mat-card-actions>
            <button type="submit" mat-raised-button color="primary" class="btn-submit" [disabled]="walkForm.invalid">Submit</button>
            </mat-card-actions>
          </div>
        </div>
    </form>
    </mat-card>
  </div>
</div>



